From e79300f0a98e68d0d7fa1cbec5a59d5761d28ce3 Mon Sep 17 00:00:00 2001
From: FrancescoFerraro <francesco.f@variscite.com>
Date: Tue, 17 May 2022 19:40:59 +0200
Subject: [PATCH 1/3] i.MX8QX: deactivated the LMEM caches to debug in external
 RAM

Signed-off-by: FrancescoFerraro <francesco.f@variscite.com>
---
 devices/MIMX8QX6/system_MIMX8QX6_cm4.c | 2 ++
 1 file changed, 2 insertions(+)

diff --git a/devices/MIMX8QX6/system_MIMX8QX6_cm4.c b/devices/MIMX8QX6/system_MIMX8QX6_cm4.c
index bb737ab1..ff3270e8 100644
--- a/devices/MIMX8QX6/system_MIMX8QX6_cm4.c
+++ b/devices/MIMX8QX6/system_MIMX8QX6_cm4.c
@@ -100,6 +100,7 @@ void SystemInit(void)
     CM4__WDOG->CS    = (uint32_t)((CM4__WDOG->CS) & ~WDOG_CS_EN_MASK) | WDOG_CS_UPDATE_MASK;
 #endif /* (DISABLE_WDOG) */
 
+#if 0
     /* Initialize Cache */
     /* Enable Code Bus Cache */
     /* set command to invalidate all ways, and write GO bit to initiate command */
@@ -123,6 +124,7 @@ void SystemInit(void)
     /* Enable cache, enable write buffer */
     LMEM->PSCCR |= (LMEM_PSCCR_ENWRBUF_MASK | LMEM_PSCCR_ENCACHE_MASK);
     /* i.MX8QX systemInit */
+#endif
 }
 
 /* ----------------------------------------------------------------------------
-- 
2.36.1

